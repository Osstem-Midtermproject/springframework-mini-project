<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mycompany.webapp.dao.TeamHistoryDao">

<insert id="insertTeamHis"  parameterType="teamhistory">
	<selectKey keyProperty="thn" resultType="int" order="BEFORE">
				select seq_teamhistory.nextval from dual
	</selectKey>
	insert into teamhistory values(#{thn},#{thtid},#{tha},#{ths},to_date(#{thd},'yyyy-mm-dd'))
</insert>
	
<select id="selectTeamHis" resultType="teamhistory">
	select *
	from teamhistory
</select>

<select id="selectTeamSalesByTeamId" resultType="long" parameterType="tsd">
	select sum(tha) from teamhistory where thtid=#{thtid} and thd BETWEEN #{startDate} and #{endDate}
</select>

</mapper>